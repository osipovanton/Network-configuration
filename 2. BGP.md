# Network-configuration

Ниже приведен пример как создать BGP между трюмя точками. Внутренние сети R1, R2, R3 (192.168.2.0/24, 192.168.1.0/24, 192.168.3.0/24 ) соединяются с помощью GRE туннеля через интернет.

# Architecture diagram
![gre](https://user-images.githubusercontent.com/79700810/131821357-b7786903-6ba2-4460-b712-b428e359e834.png)
--
![gre2-Page-2 drawio (1)](https://user-images.githubusercontent.com/79700810/131838514-0035a080-8905-4e6d-89bc-f50f1097a1da.png)
--


|R1             |R2             |R3             |
| ------------- | ------------- | ------------- |   
en |en   |en|
conf t|conf t   |conf t |
hostname R1|  hostname R2 |hostname R3 |
interface gigabitethernet 0/0/0| interface gigabitethernet 0/0/0  |interface gigabitethernet 0/0/0 |
no shutdown| no shutdown  |no shutdown |
ip address 212.12.12.1 255.255.255.248| ip address 212.12.12.2 255.255.255.248  | ip address 212.12.12.21 255.255.255.248|
exit|exit   |exit |
interface gigabitethernet 0/0/1|interface gigabitethernet 0/0/1   |interface gigabitethernet 0/0/1 |
no shutdown|  no shutdown |no shutdown |
ip address 212.12.12.10 255.255.255.248|ip address 212.12.12.20 255.255.255.248   | ip address 212.12.12.11 255.255.255.248|
exit|  exit |exit |
interface loopback 1 | interface loopback 1  |interface loopback 1  |
no shutdown| no shutdown  | no shutdown|
ip address 192.168.2.1 255.255.255.0| ip address 192.168.1.1 255.255.255.0  | ip address 192.168.3.1 255.255.255.0|
exit|  exit |exit |
---
|R1             |R2             |R3             |
| ------------- | ------------- | ------------- | 
interface Tunne 1| interface Tunne1  |interface Tunne2 |
ip address 172.16.1.1 255.255.255.0| ip address 172.16.1.2 255.255.255.0  | ip address 172.16.2.2 255.255.255.0|
tunnel mode gre ip| tunnel mode gre ip  |tunnel mode gre ip |
tunnel source gigabitEthernet 0/0/0|  tunnel source gigabitEthernet 0/0/0 | tunnel source gigabitEthernet 0/0/1|
tunnel destination 212.12.12.2| tunnel destination 212.12.12.1  |tunnel destination 212.12.12.10 |
exit|  exit |exit |
interface Tunne 2|  interface Tunne3 |interface Tunne3 |
ip address 172.16.2.1 255.255.255.0| ip address 172.16.3.1 255.255.255.0  |ip address 172.16.3.2 255.255.255.0 |
tunnel mode gre ip| tunnel mode gre ip  |tunnel mode gre ip |
tunnel source gigabitEthernet 0/0/1|  tunnel source gigabitEthernet 0/0/1 |tunnel source gigabitEthernet 0/0/0 |
tunnel destination 212.12.12.11| tunnel destination 212.12.12.21  | tunnel destination 212.12.12.20|
exit|  exit | exit|
---
Настройка BGP

|R1             |R2             |R3             |
| ------------- | ------------- | ------------- | 
|router bgp 65000  |router bgp 65001 |router bgp 65002
| network 192.168.2.0 mask 255.255.255.0 |network 192.168.1.0 mask 255.255.255.0|network 192.168.3.0 mask 255.255.255.0
|network 212.12.12.0 mask 255.255.255.248  |network 212.12.12.0 mask 255.255.255.248|network 212.12.12.8 mask 255.255.255.248
| network 212.12.12.8 mask 255.255.255.248 |network 212.12.12.16 mask 255.255.255.248|network 212.12.12.16 mask 255.255.255.248
|neighbor 212.12.12.2 remote-as 65001  |neighbor 212.12.12.1 remote-as 65000 |neighbor 212.12.12.10 remote-as 65000
| neighbor 212.12.12.11 remote-as 65002 |neighbor 212.12.12.21 remote-as 65002|neighbor 212.12.12.20 remote-as 65001
| exit |exit|exit

Test BGP
|R1             |R2             |R3             |
| ------------- | ------------- | ------------- | 
||||

